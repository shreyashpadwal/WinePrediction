# Wine Quality Prediction API - Environment Configuration
# Copy this file to .env and update the values as needed

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment mode (development, staging, production)
ENVIRONMENT=development

# Server configuration
HOST=0.0.0.0
PORT=8000

# Debug mode (True for development, False for production)
DEBUG=True

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Secret key for JWT tokens and session management
# Generate a secure random key for production
SECRET_KEY=your-super-secret-key-change-this-in-production

# CORS origins (comma-separated list of allowed origins)
# For development, use * to allow all origins
# For production, specify exact domains
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173", "http://localhost:80"]

# =============================================================================
# GOOGLE GEMINI AI CONFIGURATION (Optional)
# =============================================================================

# Google Gemini API key for AI-generated explanations
# Get your API key from: https://makersuite.google.com/app/apikey
# Leave empty to disable AI explanations (fallback will be used)
GEMINI_API_KEY=

# Gemini model configuration
GEMINI_MODEL=gemini-pro
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=1000

# =============================================================================
# MACHINE LEARNING MODEL CONFIGURATION
# =============================================================================

# Path to saved models directory
MODEL_PATH=./saved_models

# Model version
MODEL_VERSION=1.0.0

# Model files (relative to MODEL_PATH)
BEST_MODEL_FILE=best_model.pkl
SCALER_FILE=scaler.pkl
LABEL_ENCODER_FILE=label_encoder.pkl
MODEL_INFO_FILE=model_info.json

# Model prediction confidence threshold
PREDICTION_THRESHOLD=0.5

# =============================================================================
# DATABASE CONFIGURATION (Optional)
# =============================================================================

# Database URL (SQLite for development, PostgreSQL/MySQL for production)
# SQLite example: sqlite:///./wine_prediction.db
# PostgreSQL example: postgresql://user:password@localhost:5432/wine_prediction
# MySQL example: mysql://user:password@localhost:3306/wine_prediction
DATABASE_URL=sqlite:///./wine_prediction.db

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log file path
LOG_FILE=./logs/app.log

# Log file settings
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Enable console logging
LOG_CONSOLE=True

# Enable file logging
LOG_FILE_ENABLED=True

# =============================================================================
# CACHING CONFIGURATION (Optional)
# =============================================================================

# Redis configuration for caching
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Cache TTL (Time To Live) in seconds
CACHE_TTL=3600

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API version
API_VERSION=v1

# API title and description
API_TITLE=Wine Quality Prediction API
API_DESCRIPTION=A machine learning API for predicting wine quality based on chemical composition

# Rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=100

# Request timeout in seconds
REQUEST_TIMEOUT=30

# =============================================================================
# MONITORING AND HEALTH CHECKS
# =============================================================================

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=30

# Enable metrics collection
ENABLE_METRICS=True

# Metrics endpoint path
METRICS_PATH=/metrics

# =============================================================================
# AZURE CONFIGURATION (For Azure deployment)
# =============================================================================

# Azure Storage Account (if using Azure Blob Storage)
AZURE_STORAGE_ACCOUNT_NAME=
AZURE_STORAGE_ACCOUNT_KEY=
AZURE_STORAGE_CONTAINER_NAME=models

# Azure Application Insights
AZURE_APPLICATION_INSIGHTS_KEY=

# Azure Key Vault (for secrets management)
AZURE_KEY_VAULT_URL=

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Enable hot reload for development
RELOAD=True

# Enable API documentation in development
ENABLE_DOCS=True

# Enable CORS for development
ENABLE_CORS=True

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================

# Production-specific settings
# Uncomment and configure for production deployment

# SSL/TLS configuration
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Load balancer configuration
# BEHIND_PROXY=True
# PROXY_HEADERS=["X-Forwarded-For", "X-Forwarded-Proto"]

# Performance settings
# WORKERS=4
# WORKER_CLASS=uvicorn.workers.UvicornWorker
# MAX_REQUESTS=1000
# MAX_REQUESTS_JITTER=100

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features
ENABLE_AI_EXPLANATIONS=True
ENABLE_MODEL_COMPARISON=True
ENABLE_FEATURE_IMPORTANCE=True
ENABLE_PREDICTION_HISTORY=False

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# External API configurations
EXTERNAL_API_TIMEOUT=10
EXTERNAL_API_RETRIES=3

# Email service (if implementing notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_USE_TLS=True

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================

# Backup configuration
BACKUP_ENABLED=False
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit the actual .env file to version control
# 2. Use strong, unique values for SECRET_KEY in production
# 3. Configure CORS_ORIGINS properly for production
# 4. Use environment-specific values for different deployments
# 5. Regularly rotate API keys and secrets
# 6. Monitor log files for security issues
# 7. Use HTTPS in production environments
# 8. Implement proper backup strategies for production
